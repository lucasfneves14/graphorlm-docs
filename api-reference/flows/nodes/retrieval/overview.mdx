---
title: 'Retrieval Endpoints Overview'
description: 'Guide to managing retrieval nodes in flows via the Graphor REST API'
---

Retrieval endpoints allow you to manage document search and retrieval components in your Graphor flows. Retrieval nodes perform similarity search operations to find relevant documents for user queries in RAG (Retrieval-Augmented Generation) systems.

## What are Retrieval Nodes?

Retrieval nodes are components that:

- **Execute Similarity Search**: Perform vector-based document retrieval
- **Filter Results**: Apply score thresholds to ensure quality
- **Enable RAG Systems**: Provide retrieval foundation for Q&A systems

<img
  className="block border rounded-2xl border-gray-950/10 ring-2 ring-transparent"
  src="/images/retrieval-component.png"
  alt="Retrieval component"
  loading="lazy"
/>

## Available Endpoints

<CardGroup cols={2}>
  <Card
    title="List Retrieval Nodes"
    icon="list"
    href="/api-reference/flows/nodes/retrieval/list"
  >
    Retrieve all retrieval nodes from a specific flow
  </Card>
  <Card
    title="Update Retrieval Configuration"
    icon="sliders"
    href="/api-reference/flows/nodes/retrieval/update"
  >
    Modify retrieval node settings and parameters
  </Card>
</CardGroup>

## Node Structure

Each retrieval node contains:

```json
{
  "id": "retrieval-1748287628686",
  "type": "retrieval",
  "data": {
    "name": "Document Retrieval",
    "config": {
      "searchType": "hybrid",
      "topK": 15,
      "scoreThreshold": 0.75,
      "retrievalQuery": "Find relevant information about: {query}"
    },
    "result": {
      "updated": true,
      "processing": false,
      "total_retrievals": 1247
    }
  }
}
```

## Configuration Parameters

### Search Types
- **similarity**: Vector-based semantic matching
- **hybrid**: Combines semantic and keyword search
- **keyword**: Traditional term-based search
- **semantic**: Advanced contextual understanding

### Key Parameters
- **topK**: Maximum documents to retrieve (1-100)
- **scoreThreshold**: Minimum similarity score (0.0-1.0)
- **retrievalQuery**: Custom query template

## Example Configurations

### General Purpose (Hybrid)
```json
{
  "searchType": "hybrid",
  "topK": 15,
  "scoreThreshold": 0.7
}
```

### High Precision (Similarity)
```json
{
  "searchType": "similarity",
  "topK": 10,
  "scoreThreshold": 0.8
}
```

### Fast Search (Keyword)
```json
{
  "searchType": "keyword",
  "topK": 12,
  "scoreThreshold": 0.6
}
```

## Authentication & URL Structure

### Base URL
```
https://{flow_name}.flows.graphorlm.com/retrieval[/{node_id}]
```

### Authentication
```http
Authorization: Bearer YOUR_API_TOKEN
```

<Note>
Generate API tokens through the [API Tokens guide](/guides/api-tokens).
</Note>

### HTTP Methods
- **GET**: List and retrieve retrieval nodes
- **PATCH**: Update retrieval configurations

## Response Format

```json
{
  "id": "retrieval-node-id",
  "type": "retrieval", 
  "data": {
    "name": "Node Name",
    "config": {
      "searchType": "hybrid",
      "topK": 15,
      "scoreThreshold": 0.75
    },
    "result": {
      "updated": true,
      "processing": false,
      "total_retrievals": 1247
    }
  }
}
```

## Error Handling

| Status Code | Description | Solution |
|-------------|-------------|----------|
| **400** | Invalid parameters | Check configuration values |
| **401** | Authentication failure | Verify API token |
| **404** | Node/flow not found | Check flow name and node ID |
| **422** | Validation error | Review required fields |

Error response format:
```json
{
  "detail": "Descriptive error message"
}
```

## Quick Start

1. **List nodes**: Review existing retrieval configurations
2. **Choose strategy**: Select appropriate search type
3. **Configure parameters**: Set topK and scoreThreshold
4. **Test and iterate**: Optimize based on results

## Next Steps

<CardGroup cols={2}>
  <Card
    title="List Retrieval Nodes"
    icon="list"
    href="/api-reference/flows/nodes/retrieval/list"
  >
    Complete endpoint reference
  </Card>
  <Card
    title="Update Configuration"
    icon="sliders"
    href="/api-reference/flows/nodes/retrieval/update"
  >
    Configuration management guide
  </Card>
</CardGroup>
